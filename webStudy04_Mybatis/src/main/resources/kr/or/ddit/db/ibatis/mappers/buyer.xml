<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="Buyer">
	<sql id="selectBuyerFrag">
		SELECT
		*                              
		FROM buyer
	</sql>
	
	<select id="selectBuyer" parameterClass="String" resultClass="buyerVO"> 
		<include refid="Buyer.selectBuyerFrag"/>         
		WHERE BUYER_ID = #id#
	</select>
	<select id="selectTotalRecord" resultClass="long">
		SELECT COUNT(*)
		FROM	Buyer
	</select>
	
	<select id="selectAllBuyer" resultClass="buyerVO" parameterClass="pagingVO">
		SELECT B.*
		FROM (
		SELECT ROWNUM RNUM, A.*
		FROM (
		<include refid="Buyer.selectBuyerFrag"/> 
		ORDER BY ROWID DESC ) A ) B
		<![CDATA[
		WHERE RNUM >= #startRow# AND RNUM <= #endRow#
		]]>
	</select>
	
<!-- 	<insert id="insertBuyer" parameterClass="BuyerVO" > -->
<!-- 		INSERT INTO Buyer ( -->
<!--     		MEM_ID,  MEM_PASS,  MEM_NAME, -->
<!--     		MEM_REGNO1,  MEM_REGNO2,  MEM_BIR, -->
<!--     		MEM_ZIP,  MEM_ADD1,  MEM_ADD2, -->
<!--     		MEM_HOMETEL,  MEM_COMTEL,  MEM_HP, -->
<!--     		MEM_MAIL,  MEM_JOB,  MEM_LIKE,  MEM_MEMORIAL, -->
<!--    		 	MEM_MEMORIALDAY,  MEM_MILEAGE, MEM_AUTH -->
<!-- 		) VALUES ( -->
<!-- 			#mem_id#, #mem_pass#, #mem_name#, -->
<!--     		#mem_regno1#,#mem_regno2#,  TO_DATE(#mem_bir#,'YYYY-MM-DD'), -->
<!--     		#mem_zip#,#mem_add1#,#mem_add2#, -->
<!--     		#mem_hometel#,#mem_comtel#,#mem_hp#, -->
<!--     		#mem_mail#,#mem_job#,#mem_like#,#mem_memorial#, -->
<!--    		 	TO_DATE(#mem_memorialday#, 'YYYY-MM-DD'), 1000, 'ROLE_USER' -->
<!-- 		) -->
<!-- 	</insert> -->
	
<!-- 	<update id="updateBuyer" parameterClass="BuyerVO"> -->
<!-- 		update member set mem_name=#mem_name#,  -->
<!--                   mem_zip=#mem_zip#,  -->
<!--                   mem_add1=#mem_add1#, -->
<!--                   mem_add2=#mem_add2#, -->
<!--                   mem_hometel=#mem_hometel#, -->
<!--                   mem_comtel=#mem_comtel#, -->
<!--                   mem_hp=#mem_hp#,  -->
<!--                   mem_mail=#mem_mail#, -->
<!--                   mem_job=#mem_job#, -->
<!--                   mem_like=#mem_like#,  -->
<!--                   mem_memorial=#mem_memorial#, -->
<!--                   mem_memorialday=TO_DATE(#mem_memorialday#, 'YYYY-MM-DD') -->
<!-- 		where mem_id = #mem_id# -->
<!-- 	</update> -->
	
	<delete id="deleteBuyer" parameterClass="String">
		UPDATE BUYER
		SET
		BUYER_DELETE = 'Y'
		WHERE BUYER_ID = #buyer_id#
	</delete>
	
	<update id="updateBuyer" parameterClass="buyerVO">
		update buyer
		set BUYER_DELETE = #buyer_delete#
			BUYER_ID = #buyer_id#
			BUYER_NAME = #buyer_name#
			BUYER_LGU = #buyer_lgu#
			BUYER_BANK = #buyer_bank#
			BUYER_BANKNO = #buyer_bankno#
			BUYER_BANKNAME = #buyer_bankname#
			BUYER_ZIP = #buyer_zip#
			BUYER_ADD1 = #buyer_add1#
			BUYER_ADD2 = #buyer_add2#
			BUYER_COMTEL = #buyer_comtel#
			BUYER_FAX = #buyer_fax#
			BUYER_MAIL = #buyer_mail#
			BUYER_CHARGER = #buyer_charger#
		WHERE BUYER_ID = #buyer_id#
	</update>

</sqlMap>
